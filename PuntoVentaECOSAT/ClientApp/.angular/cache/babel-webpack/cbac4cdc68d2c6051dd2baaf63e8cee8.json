{"ast":null,"code":"import { FormControl } from '@angular/forms';\nimport { startWith, map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"@angular/material/toolbar\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/tooltip\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/flex-layout/flex\";\nimport * as i9 from \"@angular/material/form-field\";\nimport * as i10 from \"@angular/material/input\";\nimport * as i11 from \"@angular/material/autocomplete\";\nimport * as i12 from \"@angular/common\";\nimport * as i13 from \"@angular/material/core\";\n\nfunction VentaComponent_mat_option_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-option\", 20);\n    i0.ɵɵlistener(\"onSelectionChange\", function VentaComponent_mat_option_14_Template_mat_option_onSelectionChange_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const option_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.productosSeleccionado(option_r4);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r4.descripcion);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", option_r4.descripcion, \" \");\n  }\n}\n\nfunction VentaComponent_tr_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r7.productoDescripcion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r7.cantidad);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r7.importe);\n  }\n}\n\nexport class VentaComponent {\n  constructor(formBuilder, nav, http, baseUrl) {\n    this.formBuilder = formBuilder;\n    this.nav = nav;\n    this.http = http;\n    this.baseUrl = baseUrl;\n    this.totalVenta = 0;\n    this.listaVenta = [];\n    this.precioProducto = 0;\n    this.controlPrd = new FormControl();\n    this.listadoPrd = [];\n  }\n\n  get f() {\n    return this.forma.controls;\n  }\n\n  ngOnInit() {\n    this.forma = this.formBuilder.group({\n      id: [0],\n      productoDescripcion: [''],\n      productoId: [0],\n      cantidad: [0],\n      importe: [0]\n    });\n    this.cargarProductos();\n  }\n\n  agregarProductos() {}\n\n  eliminarProductos() {}\n\n  guardar() {\n    if (this.listaVenta.length > 0) {// this.ctx.venta().guadarVenta(this.listaVenta).toPromise().then( e => {\n      //   console.log(e)\n      //   if (e.estatus) {\n      //     this.alertas.mostrarExito('Se genero una venta');\n      //     this.nav.navigate(['/Ventas']);\n      //   }\n      // }).catch(e => {\n      //   console.log(e);\n      // })\n    } else {}\n  }\n\n  agregarLista() {\n    if (this.forma.valid) {\n      // this.usuario = JSON.parse(localStorage.getItem('usuario'));\n      const modelo = this.forma.value; // modelo.usuarioId = this.usuario.id;\n\n      const lista = this.listaVenta.find(e => e.productoDescripcion === modelo.productoDescripcion);\n\n      if (lista === undefined) {\n        modelo.importe = this.precioProducto * modelo.cantidad;\n        this.totalVenta += modelo.importe;\n        this.listaVenta.push(modelo);\n      } else {\n        this.totalVenta -= lista.cantidad * this.precioProducto;\n        lista.cantidad = +modelo.cantidad + +lista.cantidad;\n        lista.importe = lista.cantidad * this.precioProducto;\n        this.totalVenta += lista.importe;\n      }\n    }\n  }\n\n  cargarProductos() {\n    this.http.get(this.baseUrl + 'api/producto').toPromise().then(resultado => {\n      this.filtroPrd = this.controlPrd.valueChanges.pipe(startWith(''), map(value => this.filtrarPrd(value)));\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  filtrarPrd(value) {\n    const valorFiltro = value.toLowerCase();\n    return this.listadoPrd.filter(options => options.descripcion.toLowerCase().includes(valorFiltro));\n  }\n\n  limpiarFiltroProductos() {\n    this.f['productoDescripcion'].setValue('');\n    this.f['productoId'].setValue(null);\n    this.cargarProductos();\n  }\n\n  productosSeleccionado(modelo) {\n    this.f['productoDescripcion'].setValue(modelo.descripcion);\n    this.f['productoId'].setValue(modelo.id);\n    this.precioProducto = modelo.precio;\n  }\n\n  dtoSeleccionada(prd) {\n    this.prd = prd;\n    this.f['departamentoDescripcion'].setValue(prd.descripcion);\n    this.f['departamentoId'].setValue(prd.id);\n    console.log(this.forma.value);\n  }\n\n  cerrar() {}\n\n}\n\nVentaComponent.ɵfac = function VentaComponent_Factory(t) {\n  return new (t || VentaComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'));\n};\n\nVentaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: VentaComponent,\n  selectors: [[\"app-venta\"]],\n  decls: 46,\n  vars: 8,\n  consts: [[\"mat-icon-button\", \"\", \"matTooltip\", \"Cerrar\", 1, \"col-md-1\"], [1, \"fuente\"], [\"fxLayout\", \"row\", \"fxLayoutGap\", \"15px\"], [\"fxFlex\", \"30\"], [\"id\", \"formaProducto\", \"fxLayout\", \"column\", \"fxLayoutGap\", \"15px\", 3, \"formGroup\", \"submit\"], [\"type\", \"text\", \"placeholder\", \"Seleccione una departamento\", \"matInput\", \"\", 3, \"formControl\", \"matAutocomplete\"], [\"auto\", \"matAutocomplete\"], [3, \"value\", \"onSelectionChange\", 4, \"ngFor\", \"ngForOf\"], [\"appearance\", \"outline\", \"fxFlex\", \"auto\"], [\"matInput\", \"\", \"placeholder\", \"Nombre producto\", \"formControlName\", \"cantidad\", \"type\", \"number\"], [\"mat-icon-button\", \"\", \"type\", \"button\", 3, \"click\"], [\"fxFlex\", \"70\"], [2, \"width\", \"100%\"], [4, \"ngFor\", \"ngForOf\"], [\"colspan\", \"2\"], [\"colspan\", \"1\"], [\"align\", \"end\", 1, \"col-md-12\", 2, \"margin-top\", \"2%\"], [1, \"btn\", \"btn-danger\", \"col-md-4\", 2, \"margin-right\", \"1%\", 3, \"click\"], [1, \"btn\", \"btn-success\", \"col-md-4\", 3, \"click\"], [\"formaProducto\", \"\"], [3, \"value\", \"onSelectionChange\"]],\n  template: function VentaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-toolbar\");\n      i0.ɵɵelementStart(1, \"span\");\n      i0.ɵɵtext(2, \"Nueva venta\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(3, \"span\");\n      i0.ɵɵelementStart(4, \"button\", 0);\n      i0.ɵɵelementStart(5, \"mat-icon\", 1);\n      i0.ɵɵtext(6, \"clear\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 2);\n      i0.ɵɵelementStart(8, \"div\", 3);\n      i0.ɵɵelementStart(9, \"form\", 4);\n      i0.ɵɵlistener(\"submit\", function VentaComponent_Template_form_submit_9_listener() {\n        return ctx.guardar();\n      });\n      i0.ɵɵelementStart(10, \"mat-form-field\");\n      i0.ɵɵelement(11, \"input\", 5);\n      i0.ɵɵelementStart(12, \"mat-autocomplete\", null, 6);\n      i0.ɵɵtemplate(14, VentaComponent_mat_option_14_Template, 2, 2, \"mat-option\", 7);\n      i0.ɵɵpipe(15, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"mat-form-field\", 8);\n      i0.ɵɵelement(17, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function VentaComponent_Template_button_click_18_listener() {\n        return ctx.agregarLista();\n      });\n      i0.ɵɵelementStart(19, \"mat-icon\");\n      i0.ɵɵtext(20, \"add\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(21, \" Agregar a lista \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 11);\n      i0.ɵɵelementStart(23, \"table\", 12);\n      i0.ɵɵelementStart(24, \"thead\");\n      i0.ɵɵelementStart(25, \"tr\");\n      i0.ɵɵelementStart(26, \"td\");\n      i0.ɵɵtext(27, \"Producto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"td\");\n      i0.ɵɵtext(29, \"Cantidad\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"td\");\n      i0.ɵɵtext(31, \"importe\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"tbody\");\n      i0.ɵɵtemplate(33, VentaComponent_tr_33_Template, 7, 3, \"tr\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"tfoot\");\n      i0.ɵɵelementStart(35, \"tr\");\n      i0.ɵɵelementStart(36, \"td\", 14);\n      i0.ɵɵtext(37, \"Total\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"td\", 15);\n      i0.ɵɵtext(39);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"div\", 16);\n      i0.ɵɵelementStart(41, \"button\", 17);\n      i0.ɵɵlistener(\"click\", function VentaComponent_Template_button_click_41_listener() {\n        return ctx.cerrar();\n      });\n      i0.ɵɵtext(42, \"Cerrar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"button\", 18, 19);\n      i0.ɵɵlistener(\"click\", function VentaComponent_Template_button_click_43_listener() {\n        return ctx.guardar();\n      });\n      i0.ɵɵtext(45, \"Guardar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(13);\n\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"formGroup\", ctx.forma);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formControl\", ctx.controlPrd)(\"matAutocomplete\", _r0);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(15, 6, ctx.filtroPrd));\n      i0.ɵɵadvance(19);\n      i0.ɵɵproperty(\"ngForOf\", ctx.listaVenta);\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\"$\", ctx.totalVenta, \"\");\n    }\n  },\n  directives: [i4.MatToolbar, i5.MatButton, i6.MatTooltip, i7.MatIcon, i8.DefaultLayoutDirective, i8.DefaultLayoutGapDirective, i8.DefaultFlexDirective, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i9.MatFormField, i10.MatInput, i1.DefaultValueAccessor, i11.MatAutocompleteTrigger, i1.NgControlStatus, i1.FormControlDirective, i11.MatAutocomplete, i12.NgForOf, i1.NumberValueAccessor, i1.FormControlName, i13.MatOption],\n  pipes: [i12.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ2ZW50YS5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"sources":["C:/Users/Damian/source/repos/PuntoVentaECOSAT/PuntoVentaECOSAT/ClientApp/src/app/shared/venta/venta.component.ts"],"names":["FormControl","startWith","map","i0","i1","i2","i3","i4","i5","i6","i7","i8","i9","i10","i11","i12","i13","VentaComponent_mat_option_14_Template","rf","ctx","_r6","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","VentaComponent_mat_option_14_Template_mat_option_onSelectionChange_0_listener","restoredCtx","ɵɵrestoreView","option_r4","$implicit","ctx_r5","ɵɵnextContext","productosSeleccionado","ɵɵtext","ɵɵelementEnd","ɵɵproperty","descripcion","ɵɵadvance","ɵɵtextInterpolate1","VentaComponent_tr_33_Template","item_r7","ɵɵtextInterpolate","productoDescripcion","cantidad","importe","VentaComponent","constructor","formBuilder","nav","http","baseUrl","totalVenta","listaVenta","precioProducto","controlPrd","listadoPrd","f","forma","controls","ngOnInit","group","id","productoId","cargarProductos","agregarProductos","eliminarProductos","guardar","length","agregarLista","valid","modelo","value","lista","find","e","undefined","push","get","toPromise","then","resultado","filtroPrd","valueChanges","pipe","filtrarPrd","catch","console","log","valorFiltro","toLowerCase","filter","options","includes","limpiarFiltroProductos","setValue","precio","dtoSeleccionada","prd","cerrar","ɵfac","VentaComponent_Factory","t","ɵɵdirectiveInject","FormBuilder","Router","HttpClient","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","VentaComponent_Template","ɵɵelement","VentaComponent_Template_form_submit_9_listener","ɵɵtemplate","ɵɵpipe","VentaComponent_Template_button_click_18_listener","VentaComponent_Template_button_click_41_listener","VentaComponent_Template_button_click_43_listener","_r0","ɵɵreference","ɵɵpipeBind1","directives","MatToolbar","MatButton","MatTooltip","MatIcon","DefaultLayoutDirective","DefaultLayoutGapDirective","DefaultFlexDirective","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","MatFormField","MatInput","DefaultValueAccessor","MatAutocompleteTrigger","NgControlStatus","FormControlDirective","MatAutocomplete","NgForOf","NumberValueAccessor","FormControlName","MatOption","pipes","AsyncPipe","styles"],"mappings":"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","sourcesContent":["import { FormControl } from '@angular/forms';\r\nimport { startWith, map } from 'rxjs/operators';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/forms\";\r\nimport * as i2 from \"@angular/router\";\r\nimport * as i3 from \"@angular/common/http\";\r\nimport * as i4 from \"@angular/material/toolbar\";\r\nimport * as i5 from \"@angular/material/button\";\r\nimport * as i6 from \"@angular/material/tooltip\";\r\nimport * as i7 from \"@angular/material/icon\";\r\nimport * as i8 from \"@angular/flex-layout/flex\";\r\nimport * as i9 from \"@angular/material/form-field\";\r\nimport * as i10 from \"@angular/material/input\";\r\nimport * as i11 from \"@angular/material/autocomplete\";\r\nimport * as i12 from \"@angular/common\";\r\nimport * as i13 from \"@angular/material/core\";\r\nfunction VentaComponent_mat_option_14_Template(rf, ctx) { if (rf & 1) {\r\n    const _r6 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"mat-option\", 20);\r\n    i0.ɵɵlistener(\"onSelectionChange\", function VentaComponent_mat_option_14_Template_mat_option_onSelectionChange_0_listener() { const restoredCtx = i0.ɵɵrestoreView(_r6); const option_r4 = restoredCtx.$implicit; const ctx_r5 = i0.ɵɵnextContext(); return ctx_r5.productosSeleccionado(option_r4); });\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const option_r4 = ctx.$implicit;\r\n    i0.ɵɵproperty(\"value\", option_r4.descripcion);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", option_r4.descripcion, \" \");\r\n} }\r\nfunction VentaComponent_tr_33_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"tr\");\r\n    i0.ɵɵelementStart(1, \"td\");\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"td\");\r\n    i0.ɵɵtext(4);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"td\");\r\n    i0.ɵɵtext(6);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const item_r7 = ctx.$implicit;\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(item_r7.productoDescripcion);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(item_r7.cantidad);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(item_r7.importe);\r\n} }\r\nexport class VentaComponent {\r\n    constructor(formBuilder, nav, http, baseUrl) {\r\n        this.formBuilder = formBuilder;\r\n        this.nav = nav;\r\n        this.http = http;\r\n        this.baseUrl = baseUrl;\r\n        this.totalVenta = 0;\r\n        this.listaVenta = [];\r\n        this.precioProducto = 0;\r\n        this.controlPrd = new FormControl();\r\n        this.listadoPrd = [];\r\n    }\r\n    get f() { return this.forma.controls; }\r\n    ngOnInit() {\r\n        this.forma = this.formBuilder.group({\r\n            id: [0],\r\n            productoDescripcion: [''],\r\n            productoId: [0],\r\n            cantidad: [0],\r\n            importe: [0],\r\n        });\r\n        this.cargarProductos();\r\n    }\r\n    agregarProductos() {\r\n    }\r\n    eliminarProductos() {\r\n    }\r\n    guardar() {\r\n        if (this.listaVenta.length > 0) {\r\n            // this.ctx.venta().guadarVenta(this.listaVenta).toPromise().then( e => {\r\n            //   console.log(e)\r\n            //   if (e.estatus) {\r\n            //     this.alertas.mostrarExito('Se genero una venta');\r\n            //     this.nav.navigate(['/Ventas']);\r\n            //   }\r\n            // }).catch(e => {\r\n            //   console.log(e);\r\n            // })\r\n        }\r\n        else {\r\n        }\r\n    }\r\n    agregarLista() {\r\n        if (this.forma.valid) {\r\n            // this.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n            const modelo = this.forma.value;\r\n            // modelo.usuarioId = this.usuario.id;\r\n            const lista = this.listaVenta.find(e => e.productoDescripcion === modelo.productoDescripcion);\r\n            if (lista === undefined) {\r\n                modelo.importe = this.precioProducto * modelo.cantidad;\r\n                this.totalVenta += modelo.importe;\r\n                this.listaVenta.push(modelo);\r\n            }\r\n            else {\r\n                this.totalVenta -= lista.cantidad * this.precioProducto;\r\n                lista.cantidad = (+modelo.cantidad + +lista.cantidad);\r\n                lista.importe = lista.cantidad * this.precioProducto;\r\n                this.totalVenta += lista.importe;\r\n            }\r\n        }\r\n    }\r\n    cargarProductos() {\r\n        this.http.get(this.baseUrl + 'api/producto').toPromise().then(resultado => {\r\n            this.filtroPrd = this.controlPrd.valueChanges.pipe(startWith(''), map(value => this.filtrarPrd(value)));\r\n        }).catch(e => {\r\n            console.log(e);\r\n        });\r\n    }\r\n    filtrarPrd(value) {\r\n        const valorFiltro = value.toLowerCase();\r\n        return this.listadoPrd.filter(options => options.descripcion.toLowerCase().includes(valorFiltro));\r\n    }\r\n    limpiarFiltroProductos() {\r\n        this.f['productoDescripcion'].setValue('');\r\n        this.f['productoId'].setValue(null);\r\n        this.cargarProductos();\r\n    }\r\n    productosSeleccionado(modelo) {\r\n        this.f['productoDescripcion'].setValue(modelo.descripcion);\r\n        this.f['productoId'].setValue(modelo.id);\r\n        this.precioProducto = modelo.precio;\r\n    }\r\n    dtoSeleccionada(prd) {\r\n        this.prd = prd;\r\n        this.f['departamentoDescripcion'].setValue(prd.descripcion);\r\n        this.f['departamentoId'].setValue(prd.id);\r\n        console.log(this.forma.value);\r\n    }\r\n    cerrar() {\r\n    }\r\n}\r\nVentaComponent.ɵfac = function VentaComponent_Factory(t) { return new (t || VentaComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.HttpClient), i0.ɵɵdirectiveInject('BASE_URL')); };\r\nVentaComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: VentaComponent, selectors: [[\"app-venta\"]], decls: 46, vars: 8, consts: [[\"mat-icon-button\", \"\", \"matTooltip\", \"Cerrar\", 1, \"col-md-1\"], [1, \"fuente\"], [\"fxLayout\", \"row\", \"fxLayoutGap\", \"15px\"], [\"fxFlex\", \"30\"], [\"id\", \"formaProducto\", \"fxLayout\", \"column\", \"fxLayoutGap\", \"15px\", 3, \"formGroup\", \"submit\"], [\"type\", \"text\", \"placeholder\", \"Seleccione una departamento\", \"matInput\", \"\", 3, \"formControl\", \"matAutocomplete\"], [\"auto\", \"matAutocomplete\"], [3, \"value\", \"onSelectionChange\", 4, \"ngFor\", \"ngForOf\"], [\"appearance\", \"outline\", \"fxFlex\", \"auto\"], [\"matInput\", \"\", \"placeholder\", \"Nombre producto\", \"formControlName\", \"cantidad\", \"type\", \"number\"], [\"mat-icon-button\", \"\", \"type\", \"button\", 3, \"click\"], [\"fxFlex\", \"70\"], [2, \"width\", \"100%\"], [4, \"ngFor\", \"ngForOf\"], [\"colspan\", \"2\"], [\"colspan\", \"1\"], [\"align\", \"end\", 1, \"col-md-12\", 2, \"margin-top\", \"2%\"], [1, \"btn\", \"btn-danger\", \"col-md-4\", 2, \"margin-right\", \"1%\", 3, \"click\"], [1, \"btn\", \"btn-success\", \"col-md-4\", 3, \"click\"], [\"formaProducto\", \"\"], [3, \"value\", \"onSelectionChange\"]], template: function VentaComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"mat-toolbar\");\r\n        i0.ɵɵelementStart(1, \"span\");\r\n        i0.ɵɵtext(2, \"Nueva venta\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(3, \"span\");\r\n        i0.ɵɵelementStart(4, \"button\", 0);\r\n        i0.ɵɵelementStart(5, \"mat-icon\", 1);\r\n        i0.ɵɵtext(6, \"clear\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"div\", 2);\r\n        i0.ɵɵelementStart(8, \"div\", 3);\r\n        i0.ɵɵelementStart(9, \"form\", 4);\r\n        i0.ɵɵlistener(\"submit\", function VentaComponent_Template_form_submit_9_listener() { return ctx.guardar(); });\r\n        i0.ɵɵelementStart(10, \"mat-form-field\");\r\n        i0.ɵɵelement(11, \"input\", 5);\r\n        i0.ɵɵelementStart(12, \"mat-autocomplete\", null, 6);\r\n        i0.ɵɵtemplate(14, VentaComponent_mat_option_14_Template, 2, 2, \"mat-option\", 7);\r\n        i0.ɵɵpipe(15, \"async\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(16, \"mat-form-field\", 8);\r\n        i0.ɵɵelement(17, \"input\", 9);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(18, \"button\", 10);\r\n        i0.ɵɵlistener(\"click\", function VentaComponent_Template_button_click_18_listener() { return ctx.agregarLista(); });\r\n        i0.ɵɵelementStart(19, \"mat-icon\");\r\n        i0.ɵɵtext(20, \"add\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(21, \" Agregar a lista \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(22, \"div\", 11);\r\n        i0.ɵɵelementStart(23, \"table\", 12);\r\n        i0.ɵɵelementStart(24, \"thead\");\r\n        i0.ɵɵelementStart(25, \"tr\");\r\n        i0.ɵɵelementStart(26, \"td\");\r\n        i0.ɵɵtext(27, \"Producto\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(28, \"td\");\r\n        i0.ɵɵtext(29, \"Cantidad\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(30, \"td\");\r\n        i0.ɵɵtext(31, \"importe\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(32, \"tbody\");\r\n        i0.ɵɵtemplate(33, VentaComponent_tr_33_Template, 7, 3, \"tr\", 13);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(34, \"tfoot\");\r\n        i0.ɵɵelementStart(35, \"tr\");\r\n        i0.ɵɵelementStart(36, \"td\", 14);\r\n        i0.ɵɵtext(37, \"Total\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(38, \"td\", 15);\r\n        i0.ɵɵtext(39);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(40, \"div\", 16);\r\n        i0.ɵɵelementStart(41, \"button\", 17);\r\n        i0.ɵɵlistener(\"click\", function VentaComponent_Template_button_click_41_listener() { return ctx.cerrar(); });\r\n        i0.ɵɵtext(42, \"Cerrar\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(43, \"button\", 18, 19);\r\n        i0.ɵɵlistener(\"click\", function VentaComponent_Template_button_click_43_listener() { return ctx.guardar(); });\r\n        i0.ɵɵtext(45, \"Guardar\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        const _r0 = i0.ɵɵreference(13);\r\n        i0.ɵɵadvance(9);\r\n        i0.ɵɵproperty(\"formGroup\", ctx.forma);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"formControl\", ctx.controlPrd)(\"matAutocomplete\", _r0);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(15, 6, ctx.filtroPrd));\r\n        i0.ɵɵadvance(19);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.listaVenta);\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵtextInterpolate1(\"$\", ctx.totalVenta, \"\");\r\n    } }, directives: [i4.MatToolbar, i5.MatButton, i6.MatTooltip, i7.MatIcon, i8.DefaultLayoutDirective, i8.DefaultLayoutGapDirective, i8.DefaultFlexDirective, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i9.MatFormField, i10.MatInput, i1.DefaultValueAccessor, i11.MatAutocompleteTrigger, i1.NgControlStatus, i1.FormControlDirective, i11.MatAutocomplete, i12.NgForOf, i1.NumberValueAccessor, i1.FormControlName, i13.MatOption], pipes: [i12.AsyncPipe], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ2ZW50YS5jb21wb25lbnQuY3NzIn0= */\"] });\r\n"]},"metadata":{},"sourceType":"module"}